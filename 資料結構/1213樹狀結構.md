```
è‹¥åœ¨å®Œæ•´äºŒå…ƒæ¨¹å…§æœ‰å€‹ç·¨è™Ÿ 401 çš„ç¯€é»ï¼Œè«‹å•
æ­¤ç¯€é»åœ¨è©²æ¨¹çš„ç¬¬å¹¾éšï¼Ÿ9
æ­¤ç¯€é»çš„çˆ¶ç¯€é»çš„ç·¨è™Ÿç‚ºä½•ï¼Ÿ200
è‹¥æ­¤ç¯€é»æœ‰å·¦å­ï¼Œå…¶å·¦å­çš„ç·¨è™Ÿç‚ºä½•ï¼Ÿ
è‹¥æ­¤ç¯€é»æœ‰å³å­ï¼Œå…¶å³å­çš„ç·¨è™Ÿç‚ºä½•ï¼Ÿ

ceil å¤§æ–¼ç­‰æ–¼
```
```
ç·¨è™Ÿ i çš„ç¯€é»ï¼Œåœ¨ç¬¬ k éšï¼Œk= ceil( log2(i+1) ) ï¼Œå…¶å·¦å­ç·¨è™Ÿ L= 2iï¼Œå…¶å³å­ç·¨è™Ÿ
R= 2i + 1ï¼Œå…¶çˆ¶ç·¨è™Ÿ F=floor( i/2 )
```
## äºŒå…ƒæ¨¹æ¯å€‹ç¯€é»å–å¾—é †åº:
```
ä¸­åºèµ°è¨ªæ³•(inorder traversal)(LVR)
å‰åºèµ°è¨ªæ³•(preorder traversal)(VLR)
å¾Œåºèµ°è¨ªæ³•(postorder traversal)(LRV)
L:å·¦å­ç¯€é»ï¼›R: å³å­ç¯€é»ï¼›V:é€™å€‹ç¯€é»ï¼›
```
```
ä¸­åºèµ°è¨ªæ³•(inorder traversal)(LVR): å…ˆå–å‡ºç¯€é»çš„å·¦å­ç¯€é», å†å–å‡ºè©²ç¯€é», ä¹‹
å¾Œå†å–å‡ºç¯€é»çš„å³å­ç¯€é»

å‰åºèµ°è¨ªæ³•(preorder traversal)(VLR): å…ˆå–å‡ºç¯€é», å†å–å‡ºè©²ç¯€é»çš„å·¦å­ç¯€é», ä¹‹
å¾Œå†å–å‡ºç¯€é»çš„å³å­ç¯€é»

å¾Œåºèµ°è¨ªæ³•(postorder traversal)(LRV): å…ˆå–å‡ºç¯€é»çš„å·¦å­ç¯€é», å†å–å‡ºç¯€é»çš„å³
å­ç¯€é», ä¹‹å¾Œå†å–å‡ºè©²ç¯€é»
```
## äºŒå…ƒæœå°‹æ¨¹ (Binary Search Tree)
```
äºŒå…ƒæœå°‹æ¨¹ä¸­çš„æ¯ä¸€ç¯€é»(node)å‡å«æœ‰ä¸€éµå€¼(key value)ï¼Œè€Œä¸”ï¼šåœ¨å·¦å­æ¨¹çš„æ‰€
æœ‰éµå€¼å‡å°æ–¼ç­‰æ–¼æ¨¹æ ¹çš„éµå€¼ã€‚å³å­æ¨¹çš„æ‰€æœ‰éµå€¼å‡å¤§æ–¼æ¨¹æ ¹çš„éµå€¼ã€‚
```
## äºŒå…ƒæœå°‹æ¨¹çš„ç‰¹é»:
```
1. å¾ˆå¿«å¯ä»¥ä¾æ“šéµå€¼(key value)æ‰¾å‡ºè©²ç¯€é»(node)
è‹¥æœ‰ n ç­†è³‡æ–™, ä¸€ç­†ä¸€ç­†æ‰¾éœ€è¦çš„æ™‚é–“è¤‡é›œåº¦ç‚ºğ(ğ§), ä½¿ç”¨äºŒå…ƒæœå°‹æ¨¹éœ€è¦çš„
æ™‚é–“è¤‡é›œåº¦ç‚ºğ(ğ¥ğ¨ğ ğŸ ğ’)
2. å¯ä»¥ä¾æ“šæ‰€æœ‰ç¯€é»çš„éµå€¼å¾å°åˆ°å¤§ä½œåšæ’åº (ä½¿ç”¨ä¸­åºèµ°è¨ªæ³•)
```
# äºŒå…ƒæœå°‹æ¨¹çš„å¯¦ä½œèªªæ˜
## ç¯€é»çš„å®£å‘Š
```
struct TreeNode{ //å®£å‘Šç¯€é»çš„åç¨±èˆ‡çµæ§‹
struct TreeNode* pri=NULL; //æŒ‡å‘çˆ¶ç¯€é»çš„ä½å€
struct TreeNode* right=NULL; //æŒ‡å‘å³å­ç¯€é»çš„ä½å€
struct TreeNode* left=NULL; //æŒ‡å‘å·¦å­ç¯€é»çš„ä½å€
int data; //ç¯€é»çš„éµå€¼
};
static struct TreeNode* tree_header; //å®£å‘Šéœæ…‹æŒ‡æ¨™æŒ‡å‘æ ¹ç¯€é»çš„ä½å€
```
## å»ºç«‹ç¯€é»
```
header = (struct TreeNode *)malloc(sizeof(struct TreeNode));
//é…ç½®è¨˜æ†¶é«”ç©ºé–“çµ¦ç¯€é», ä¸¦å°‡è¨˜æ†¶é«”ä½å€å‚³å›çµ¦ header æŒ‡æ¨™
header->data = value; //å°‡å€¼æ”¾å…¥ç¯€é»çš„éµå€¼æ¬„ä½
header->pri = NULL; //ç¯€é»çš„çˆ¶ç¯€é»çš„ä½å€è¨­ç‚ºç©ºæŒ‡æ¨™
header->left = NULL; //ç¯€é»çš„å·¦å­ç¯€é»çš„ä½å€è¨­ç‚ºç©ºæŒ‡æ¨™
header->right = NULL; //ç¯€é»çš„å³å­ç¯€é»çš„ä½å€è¨­ç‚ºç©ºæŒ‡æ¨™
```
## åŠ å…¥ç¯€é»
```
if(value <= current->data){ //è³‡æ–™å°æ–¼ç­‰æ–¼ç¯€é»çš„éµå€¼
if(current->left == NULL){ //ç¯€é»çš„å·¦å­ç¯€é»æŒ‡æ¨™æ˜¯ç©ºæŒ‡æ¨™
current->left = (struct TreeNode *)malloc(sizeof(struct TreeNode));
if(current->left == NULL) return NULL;
current->left->data=value; //å»ºç«‹ç¯€é»
current->left->left=NULL;
current->left->right=NULL;
current->left->pri=current;
}
else{ //ç¯€é»çš„å·¦å­ç¯€é»æŒ‡æ¨™ä¸æ˜¯ç©ºæŒ‡æ¨™
AddNode(current->left, value); //åŠ å…¥ç¯€é»
}
}
else if(value > current->data){ //è³‡æ–™å¤§æ–¼ç¯€é»çš„éµå€¼
if(current->right == NULL){ //ç¯€é»çš„å³å­ç¯€é»æŒ‡æ¨™æ˜¯ç©ºæŒ‡æ¨™
current->right = (struct TreeNode *)malloc(sizeof(struct TreeNode));
if(current->right == NULL) return NULL;
current->right->data=value; //å»ºç«‹ç¯€é»
current->right->left=NULL;
current->right->right=NULL;
current->right->pri=current;
}
else{ //ç¯€é»çš„å³å­ç¯€é»æŒ‡æ¨™ä¸æ˜¯ç©ºæŒ‡æ¨™
AddNode(current->right, value); //åŠ å…¥ç¯€é»
}
}
```
```
ä½¿ç”¨ä¸­åºæ³•é¡¯ç¤ºäºŒå…ƒæœå°‹æ¨¹çš„æ‰€æœ‰ç¯€é»
if(current->left != NULL) //è‹¥ç¯€é»çš„å·¦å­æ¨¹ä¸æ˜¯ç©ºæŒ‡æ¨™
current->left = ShowTree(current->left); //é¡¯ç¤ºå·¦å­æ¨¹
printf("%d, ",current->data); //é¡¯ç¤ºç¯€é»çš„éµå€¼
if(current->right != NULL) //è‹¥ç¯€é»çš„å³å­æ¨¹ä¸æ˜¯ç©ºæŒ‡æ¨™
current->right = ShowTree(current->right); //é¡¯ç¤ºå³å­æ¨¹
```
## äºŒå…ƒæœå°‹æ¨¹çš„ç¨‹å¼ç¢¼è¬›è§£
```
//BT.h å®šç¾©ç¨‹å¼æœƒç”¨åˆ°çš„æ‰€æœ‰å‰¯ç¨‹å¼çš„å‹æ…‹
struct TreeNode* CreateTree(struct TreeNode* header, int*);
struct TreeNode* CreateNode(struct TreeNode*, int);
struct TreeNode* AddNode(struct TreeNode*, int);
struct TreeNode* ShowTree(struct TreeNode*);
//BT.CPP
#include "stdio.h"
#include "stdlib.h"
#include "time.h"
#include "BT.h"
struct TreeNode{ //å®£å‘Šç¯€é»çš„åç¨±èˆ‡çµæ§‹
struct TreeNode* pri=NULL; //æŒ‡å‘çˆ¶ç¯€é»çš„ä½å€é è¨­ç‚ºç©ºæŒ‡æ¨™
struct TreeNode* right=NULL; //æŒ‡å‘å³å­ç¯€é»çš„ä½å€é è¨­ç‚ºç©ºæŒ‡æ¨™
struct TreeNode* left=NULL; //æŒ‡å‘å·¦å­ç¯€é»çš„ä½å€é è¨­ç‚ºç©ºæŒ‡æ¨™
int data; //ç¯€é»çš„éµå€¼
};
static struct TreeNode* tree_header;
//å®£å‘Šéœæ…‹æŒ‡æ¨™ tree_header æŒ‡å‘æ ¹ç¯€é»çš„ä½å€
int main(){
int m,s=0,x=0,data_num=0;
int data[20]; //å®£å‘Šæœ‰ 20 æ¬„ä½çš„æ•´æ•¸å‹æ…‹é™£åˆ— data
for(int i=0; i<20; i++){ //å°‡ data çš„ 20 æ¬„ä½éƒ½æ¸…ç‚º 0
data[i]=0;
}
//éš¨æ©Ÿç”¢ç”Ÿ 20 å€‹ 0 åˆ° 99 çš„ç›¸ç•°æ•´æ•¸,ä¸¦å°‡å…¶å­˜å…¥ data çš„ 20 æ¬„ä½ä¸­
for(int i=0;i<20 ;i++){
int m=0;
int n=1;
while(n==1){
n=0;
srand((unsigned)time(NULL)); // ä»¥æ™‚é–“åºåˆ—ç•¶äº‚æ•¸ç¨®å­
m=rand()%100;
for(int j=0;j<i;j++){
if(m==data[j]) n=1;
}
}
data[i]=m;
}
printf("è¼¸å…¥ 20 ç­†éš¨æ©Ÿè³‡æ–™å€¼\n");
//é¡¯ç¤º data çš„ 20 æ¬„ä½çš„å€¼
for(int i=0;i<20 ;i++){
printf("%d, ", data[i]);
}
printf("\n"); 
printf("é–‹å§‹å»ºç«‹äºŒå…ƒæœå°‹æ¨¹\n");
tree_header = CreateTree(tree_header, data); //å»ºç«‹äºŒå…ƒæœå°‹æ¨¹
printf("ä½¿ç”¨ä¸­åºæ³•å–å‡ºäºŒå…ƒæœå°‹æ¨¹\n");
tree_header = ShowTree(tree_header); //ä½¿ç”¨ä¸­åºæ³•å–å‡ºäºŒå…ƒæœå°‹æ¨¹
return 0;
}
struct TreeNode* CreateTree(struct TreeNode* header, int data[20]){
header = CreateNode(header, data[0]);
//å»ºç«‹äºŒå…ƒæœå°‹æ¨¹çš„æ¨¹æ ¹ä¸¦å°‡ç¬¬ä¸€ç­†è³‡æ–™å­˜å…¥æ¨¹æ ¹ç¯€é»ä¸­
if(header == NULL) return NULL;
for(int i=1; i<20; i++){
AddNode(header, data[i]);
//ä¾åºå°‡ç¬¬ 2 ç­†åˆ°ç¬¬ 20 ç­†è³‡æ–™åŠ å…¥äºŒå…ƒæœå°‹æ¨¹ä¸­
}
return header;
}
struct TreeNode* CreateNode(struct TreeNode* header, int value){
header = (struct TreeNode *)malloc(sizeof(struct TreeNode));
//é…ç½®è¨˜æ†¶é«”ç©ºé–“çµ¦ç¯€é», ä¸¦å°‡è¨˜æ†¶é«”ä½å€å‚³å›çµ¦ header æŒ‡æ¨™
if(header == NULL) return NULL; //è‹¥é…ç½®å¤±æ•— header å‚³å›ç©ºæŒ‡æ¨™
header->data = value; //å°‡å€¼æ”¾å…¥ç¯€é»çš„éµå€¼æ¬„ä½
header->pri = NULL; //ç¯€é»çš„çˆ¶ç¯€é»çš„ä½å€è¨­ç‚ºç©ºæŒ‡æ¨™
header->left = NULL; //ç¯€é»çš„å·¦å­ç¯€é»çš„ä½å€è¨­ç‚ºç©ºæŒ‡æ¨™
header->right = NULL; //ç¯€é»çš„å³å­ç¯€é»çš„ä½å€è¨­ç‚ºç©ºæŒ‡æ¨™
return header;
}
struct TreeNode* AddNode(struct TreeNode* header, int value){
struct TreeNode* current;
current = header;
if(value <= current->data){ //è³‡æ–™å°æ–¼ç­‰æ–¼ç¯€é»çš„éµå€¼
if(current->left == NULL){ //ç¯€é»çš„å·¦å­ç¯€é»æŒ‡æ¨™æ˜¯ç©ºæŒ‡æ¨™
//å»ºç«‹ç¯€é»ä¸¦æŠŠè³‡æ–™æ”¾å…¥ç¯€é»ä¸­
current->left = (struct TreeNode *)malloc(sizeof(struct TreeNode));
if(current->left == NULL) return NULL;
current->left->data=value;
current->left->left=NULL;
current->left->right=NULL;
current->left->pri=current;
}
else{ //ç¯€é»çš„å·¦å­ç¯€é»æŒ‡æ¨™ä¸æ˜¯ç©ºæŒ‡æ¨™
AddNode(current->left, value); //åŠ å…¥ç¯€é»
}
}
else if(value > current->data){ //è³‡æ–™å¤§æ–¼ç¯€é»çš„éµå€¼
if(current->right == NULL){ //ç¯€é»çš„å³å­ç¯€é»æŒ‡æ¨™æ˜¯ç©ºæŒ‡æ¨™
//å»ºç«‹ç¯€é»ä¸¦æŠŠè³‡æ–™æ”¾å…¥ç¯€é»ä¸­
current->right = (struct TreeNode *)malloc(sizeof(struct TreeNode));
if(current->right == NULL) return NULL;
current->right->data=value;
current->right->left=NULL;
current->right->right=NULL;
current->right->pri=current;
}
else{ //ç¯€é»çš„å³å­ç¯€é»æŒ‡æ¨™ä¸æ˜¯ç©ºæŒ‡æ¨™
AddNode(current->right, value); //åŠ å…¥ç¯€é»
}
}
return current;
}
struct TreeNode* ShowTree(struct TreeNode* header){
struct TreeNode* current;
current = header;
if(current->left != NULL) //è‹¥ç¯€é»çš„å·¦å­æ¨¹ä¸æ˜¯ç©ºæŒ‡æ¨™
current->left = ShowTree(current->left); //é¡¯ç¤ºå·¦å­æ¨¹
printf("%d, ",current->data); //é¡¯ç¤ºç¯€é»çš„éµå€¼
if(current->right != NULL) //è‹¥ç¯€é»çš„å³å­æ¨¹ä¸æ˜¯ç©ºæŒ‡æ¨™
current->right = ShowTree(current->right); //é¡¯ç¤ºå³å­æ¨¹
return current;
}
```
## äºŒå…ƒæœå°‹æ¨¹çš„ç¨‹å¼ç¢¼èˆ‡åŸ·è¡Œçµæœ
```
//åŸ·è¡Œçµæœ
è¼¸å…¥ 20 ç­†éš¨æ©Ÿè³‡æ–™å€¼
90, 94, 97, 0, 4, 7, 10, 13, 17, 20, 23, 26, 30, 33, 36, 39, 43, 46, 49, 52,
é–‹å§‹å»ºç«‹äºŒå…ƒæœå°‹æ¨¹
ä½¿ç”¨ä¸­åºæ³•å–å‡ºäºŒå…ƒæœå°‹æ¨¹
0, 4, 7, 10, 13, 17, 20, 23, 26, 30, 33, 36, 39, 43, 46, 49, 52, 90, 94, 97,
--------------------------------
Process exited after 23.71 seconds with return value 0
è«‹æŒ‰ä»»æ„éµç¹¼çºŒ . . .
```
